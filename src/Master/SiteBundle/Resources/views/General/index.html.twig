{% extends 'MasterSiteBundle::layout.html.twig' %}

{% block head_title %}Главная{% endblock %}

{% block body_content %}
    {% set menu_active = 'index' %}
    {% include 'MasterSiteBundle::header.html.twig' %}
    <div id="slider" class="carousel slide" data-ride="carousel" data-interval="5000" data-wrap="true">
        <ol class="carousel-indicators">
            <li data-target="#slider" data-slide-to="0" class="active"></li>
            <li data-target="#slider" data-slide-to="1"></li>
            <li data-target="#slider" data-slide-to="2"></li>
            <li data-target="#slider" data-slide-to="3"></li>
            <li data-target="#slider" data-slide-to="4"></li>
        </ol>
        <div class="carousel-inner" role="listbox">
            <div class="item active">
                <img src="{{ asset('/img/slider0.jpg') }}" alt="Санаторно-курортный отдых в Белокурихе">
                <div class="content slider0">
                    <div class="caption">Санаторно-курортный отдых<br>в Белокурихе</div>
                    <span class="details"><a href="{{ url('site_general_landing1') }}">Посмотреть</a></span>
                </div>
            </div>
            <div class="item">
                <img src="{{ asset('/img/slider1.jpg') }}" alt="Активный и экстремальный отдых на Алтае">
                <div class="content">
                    <div class="caption">Активный и экстремальный<br>отдых на Алтае</div>
                    <span class="details"><a href="{{ url('site_general_landing2') }}">Посмотреть</a></span>
                </div>
            </div>
            <div class="item">
                <img src="{{ asset('/img/slider2.jpg') }}" alt="Отдых на Алтае">
                <div class="content">
                    <div class="caption">Отдых на Алтае</div>
                    <span class="details"><a href="{{ url('site_general_landing3') }}">Посмотреть</a></span>
                </div>
            </div>
            <div class="item">
                <img src="{{ asset('/img/slider3.jpg') }}" alt="Туры по России">
                <div class="content">
                    <div class="caption">Туры по России</div>
                    <span class="details"><a href="{{ url('site_general_landing4') }}">Посмотреть</a></span>
                </div>
            </div>
            <div class="item">
                <img src="{{ asset('/img/slider4.jpg') }}" alt="Зарубежные туры">
                <div class="content">
                    <div class="caption">Зарубежные туры</div>
                    <span class="details"><a href="{{ url('site_general_landing5') }}">Посмотреть</a></span>
                </div>
            </div>
        </div>
        <a href="#slider" class="left carousel-control" role="button" data-slide="prev">
            <span class="icon-prev"></span>
            <span class="sr-only">Предыдущий</span>
        </a>
        <a href="#slider" class="right carousel-control" role="button" data-slide="next">
            <span class="icon-next"></span>
            <span class="sr-only">Следующий</span>
        </a>
    </div>
    <div id="index-page">
        <div class="heading">
            <h1>Галерея туров</h1>
            <ul class="list-inline filter-type">
                {% spaceless %}
                    <li><a href="javascript:void(0);" data-type="0">Новые</a></li>
                    <li><a href="javascript:void(0);" data-type="1">Горящие</a></li>
                    <li><a href="javascript:void(0);" data-type="2">Акции</a></li>
                {% endspaceless %}
            </ul>
            <ul class="list-inline filter-location">
                {% spaceless %}
                    <li class="active"><a href="javascript:void(0);" data-location="-1">Все туры</a></li>
                    <li><a href="javascript:void(0);" data-location="0">Зарубежные</a></li>
                    <li><a href="javascript:void(0);" data-location="1">Алтай</a></li>
                    <li><a href="javascript:void(0);" data-location="2">По России</a></li>
                {% endspaceless %}
            </ul>
        </div>
        <ul class="tours">
            {% spaceless %}
                {% for tour in tours %}
                    <li data-type="{{ tour.type|e }}" data-location="{{ tour.location|e }}">
                        <img src="{{ asset(tour.image.path|e) }}" alt="{{ tour.caption|e }}" width="314" height="202">
                        {% if tour.template == 0 %}
                            <div class="caption left-top-first">{{ tour.caption|e }}</div>
                            <div class="days left-top-second">{{ tour.days|e }}</div>
                            <div class="city left-bottom">{{ tour.from|e }}</div>
                            <div class="price right">
                                от {{ tour.price|e }}
                                <span class="glyphicon glyphicon-ruble" aria-hidden="true"></span>
                            </div>
                            <a href="javascript:void(0);"
                               data-modal-caption="Подробней о туре"
                               data-modal-subcaption="Оставьте свои контактные данные, и мы свяжемся с Вами в ближайшее время"
                               data-modal-from="Главная страница, тур {{ tour.caption }}"
                               class="text-center button show-modal">
                                Подробнее
                            </a>
                        {% elseif tour.template == 1 %}
                            <div class="caption left-top-first">{{ tour.caption|e }}</div>
                            <div class="days left-top-second">{{ tour.days|e }}</div>
                            <div class="city left-bottom">{{ tour.from|e }}</div>
                            <div class="price right"></div>
                            <a href="javascript:void(0);"
                               data-modal-caption="Подробней о туре"
                               data-modal-subcaption="Оставьте свои контактные данные, и мы свяжемся с Вами в ближайшее время"
                               data-modal-from="Главная страница, тур {{ tour.caption }}"
                               class="text-center button show-modal">
                                от {{ tour.price|e }}
                                <span class="glyphicon glyphicon-ruble" aria-hidden="true"></span>
                            </a>
                        {% else %}
                            <div class="caption left-top-second">{{ tour.caption|e }}</div>
                            <div class="days left-bottom">{{ tour.days|e }}</div>
                            <div class="city left-top-first">{{ tour.from|e }}</div>
                            <div class="price right">
                                от {{ tour.price|e }}
                                <span class="glyphicon glyphicon-ruble" aria-hidden="true"></span>
                            </div>
                            <a href="javascript:void(0);"
                               data-modal-caption="Подробней о туре"
                               data-modal-subcaption="Оставьте свои контактные данные, и мы свяжемся с Вами в ближайшее время"
                               data-modal-from="Главная страница, тур {{ tour.caption }}"
                               class="text-center button show-modal">
                                Подробнее
                            </a>
                        {% endif %}
                    </li>
                {% endfor %}
            {% endspaceless %}
        </ul>
        <div class="shadow"></div>
        <ul class="sections">
            {% spaceless %}
                <li>
                    <h2><a href="{{ url('site_general_reviews') }}">Отзывы</a></h2>
                    <p>Мнение клиентов о нашей<br>работе</p>
                </li>
                <li>
                    <h2><a href="{{ url('site_general_faq') }}">Вопросы и ответы</a></h2>
                    <p>Важная и полезная информация<br>для Ваших путешествий</p>
                </li>
                <li>
                    <h2><a href="{{ url('site_general_loyalty') }}">Программа лояльности</a></h2>
                    <p>Особо ценные предложения для<br>постоянных клиентов</p>
                </li>
                <li>
                    <h2><a href="{{ url('site_general_contacts') }}#contacts">О компании</a></h2>
                    <p>Контакты, реквизиты,<br>сотрудничество</p>
                </li>
            {% endspaceless %}
        </ul>
        <div class="text-center">
            <a href="javascript:void(0);"
               data-modal-caption="Заказ тура"
               data-modal-subcaption="Оставьте заявку на оформление тура, и мы свяжемся с Вами в ближайшее время"
               data-modal-from="Кнопка Заказать тур на главной странице"
               class="order show-modal">
                <div class="order-tour">Заказать тур</div>
                <div class="order-by-phone">оформление по телефону</div>
            </a>
            <div class="feedback">
                Бесплатно: 8 800 775-12-57 &bull;
                8 (3852) 229-281 &bull;
                <a href="mailto:manager-master-em@mail.ru">manager-master-em@mail.ru</a>
            </div>
        </div>
        <ul class="text-center share">
            <li class="vk"><div class="icon"></div><a href="http://vk.com/club64199799">ВКонтакте</a></li>
            <li class="fb"><div class="icon"></div><a href="https://www.facebook.com/profile.php?id=100006197748794">Фэйсбук</a></li>
            <li class="ok"><div class="icon"></div><a href="http://ok.ru/profile/348851418583/album/771236056535">Одноклассники</a></li>
            <li class="instagram"><div class="icon"></div><a href="https://instagram.com/p/0rtb85k-ko/">Инстаграм</a></li>
        </ul>
    </div>
    {% include 'MasterSiteBundle::footer.html.twig' %}
{% endblock %}

{% block body_additions %}
    <script>
        $(document).ready(function() {
            $('.filter-type a').click(function() {
                $(this).parent().addClass('active').siblings().removeClass('active');
                var ul = $('ul.tours');
                var type = $(this).attr('data-type');
                var location = $('.filter-location li.active a').attr('data-location');
                ul.children('li').stop(true, true).hide();
                if (location > -1) ul.children('li[data-type="' + type + '"][data-location="' + location + '"]').stop(true, true).fadeIn(250);
                else ul.children('li[data-type="' + type + '"]').stop(true, true).fadeIn(250);
            });
            $('.filter-location a').click(function() {
                $(this).parent().addClass('active').siblings().removeClass('active');
                var ul = $('ul.tours');
                var location = $(this).attr('data-location');
                if (location == -1) {
                    $('.filter-type a').parent().removeClass('active');
                    ul.children('li').stop(true, true).fadeIn(250);
                }
                else {
                    var type = -1;
                    if ($('.filter-type li.active a').length > 0) type = $('.filter-type li.active a').attr('data-type');
                    ul.children('li').stop(true, true).hide();
                    if (type > -1) ul.children('li[data-type="' + type + '"][data-location="' + location + '"]').stop(true, true).fadeIn(250);
                    else ul.children('li[data-location="' + location + '"]').stop(true, true).fadeIn(250);
                }
            });
        });
    </script>
{% endblock %}